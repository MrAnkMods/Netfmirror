<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NMix â€” Home</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js"></script>
<style>
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#000;color:#fff;overflow-x:hidden;}
header{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;background:#111;position:sticky;top:0;z-index:10;}
header img{height:35px;}
nav a{color:#fff;text-decoration:none;margin:0 10px;font-weight:bold;}
.banner{position:relative;width:100%;height:55vh;overflow:hidden;}
.banner img{width:100%;height:100%;object-fit:cover;filter:brightness(0.6);}
.banner-title{position:absolute;bottom:30px;left:20px;font-size:26px;font-weight:bold;}
section{padding:20px;}
section h2{color:#e50914;font-size:22px;margin-bottom:12px;}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:12px;}
.grid img{width:100%;height:180px;object-fit:cover;border-radius:6px;cursor:pointer;transition:transform .2s;}
.grid img:hover{transform:scale(1.05);}
footer{text-align:center;padding:15px 0;background:#111;color:#aaa;font-size:13px;margin-top:30px;}
</style>
</head>
<body>
<header>
  <img src="assets/logo.png" alt="NMix Logo">
  <nav>
    <a href="index.html">Home</a>
    <a href="movie.html">Movies</a>
    <a href="series.html">Series</a>
  </nav>
</header>

<div class="banner">
  <img id="bannerImg" src="assets/banner1.jpg">
  <div class="banner-title" id="bannerTitle">Welcome to NMix</div>
</div>

<section id="trending">
  <h2>ðŸ”¥ Trending</h2>
  <div class="grid" id="trendingGrid"></div>
</section>

<section id="latest">
  <h2>ðŸ†• Latest</h2>
  <div class="grid" id="latestGrid"></div>
</section>

<section id="horror">
  <h2>ðŸ‘» Horror</h2>
  <div class="grid" id="horrorGrid"></div>
</section>

<section id="adventure">
  <h2>ðŸ—º Adventure</h2>
  <div class="grid" id="adventureGrid"></div>
</section>

<footer>Â© 2025 NMix Studio â€” All Rights Reserved</footer>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

const firebaseConfig={
  apiKey:"AIzaSyC4S_DbJCwOyg2akeBmInBYcuBrPvvVrj8",
  authDomain:"ankmods0.firebaseapp.com",
  databaseURL:"https://ankmods0-default-rtdb.firebaseio.com",
  projectId:"ankmods0",
  storageBucket:"ankmods0.firebasestorage.app",
  messagingSenderId:"760044029682",
  appId:"1:760044029682:web:a5c234e03542c309ce726b"
};
const app=initializeApp(firebaseConfig);
const db=getDatabase(app);

const trendingGrid=document.getElementById("trendingGrid");
const latestGrid=document.getElementById("latestGrid");
const horrorGrid=document.getElementById("horrorGrid");
const adventureGrid=document.getElementById("adventureGrid");
const bannerImg=document.getElementById("bannerImg");
const bannerTitle=document.getElementById("bannerTitle");

// Load Movies
onValue(ref(db,"movies"),snap=>{
  trendingGrid.innerHTML=latestGrid.innerHTML=horrorGrid.innerHTML=adventureGrid.innerHTML="";
  let banners=[];
  snap.forEach(s=>{
    const id=s.key;const d=s.val();
    const img=document.createElement("img");
    img.src=d.poster;
    img.onclick=()=>window.location=`details.html?type=movie&id=${id}`;
    if(d.section==="Trending")trendingGrid.appendChild(img);
    if(d.section==="Latest")latestGrid.appendChild(img);
    if(d.section==="Horror")horrorGrid.appendChild(img);
    if(d.section==="Adventure")adventureGrid.appendChild(img);
    if(d.banner)banners.push({title:d.title,img:d.banner});
  });
  if(banners.length){
    let i=0;setInterval(()=>{
      bannerImg.src=banners[i].img;
      bannerTitle.textContent=banners[i].title;
      i=(i+1)%banners.length;
    },4000);
  }
});
</script>
</body>
</html>